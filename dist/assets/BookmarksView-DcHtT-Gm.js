import{d as C,r as d,i as k,o as x,c as a,a as e,f as B,w as V,v as L,F as f,j as y,t as l,n as S,k as F,e as A,h as r,_ as M}from"./index-BMSAQD6l.js";import{b as q}from"./bookmarkService-wwcTVc0m.js";const z={class:"bookmarks-view"},D={class:"container"},I={class:"search-section"},N={class:"search-box"},P={class:"category-filter"},W=["onClick"],H={key:0,class:"loading-state"},T={key:1,class:"error-state"},$={key:2,class:"websites-grid"},j=["onClick"],E={class:"card-header"},G={class:"website-icon"},Q={class:"category-tag"},R={class:"card-content"},U={class:"website-name"},J={class:"website-description"},K={key:3,class:"empty-state"},O=C({__name:"BookmarksView",setup(X){const n=d([]),v=d(!0),i=d(null),c=d(""),u=d("全部"),g=k(()=>{const s=new Set(n.value.map(o=>o.category));return["全部",...Array.from(s)]}),p=k(()=>{let s=n.value;return u.value!=="全部"&&(s=s.filter(o=>o.category===u.value)),c.value&&(s=s.filter(o=>o.name.toLowerCase().includes(c.value.toLowerCase())||o.description.toLowerCase().includes(c.value.toLowerCase()))),s}),w=s=>{window.open(s,"_blank","noopener,noreferrer")},m=async()=>{try{v.value=!0,i.value=null;const s=await q.getAllBookmarks();s.success&&s.data?n.value=s.data:(i.value=s.error||"加载书签失败",n.value=h())}catch(s){console.error("Failed to load bookmarks:",s),i.value="网络连接失败",n.value=h()}finally{v.value=!1}},h=()=>[{id:1,name:"Reqable",description:"API抓包调试 + API测试一站式工具",url:"https://reqable.com/",icon:"🔧",category:"开发工具",color:"#00d4ff"},{id:2,name:"PowerToys",description:"Microsoft Learn - Windows实用工具集",url:"https://learn.microsoft.com/zh-cn/windows/powertoys/install",icon:"⚡",category:"系统工具",color:"#ff3366"},{id:3,name:"Flow Launcher",description:"快速启动器和搜索工具",url:"https://www.flowlauncher.com/",icon:"🚀",category:"效率工具",color:"#8b5cf6"},{id:4,name:"GitHub",description:"全球最大的代码托管平台",url:"https://github.com/",icon:"🐙",category:"开发工具",color:"#24292e"},{id:5,name:"VS Code",description:"微软开发的免费代码编辑器",url:"https://code.visualstudio.com/",icon:"💻",category:"开发工具",color:"#007acc"},{id:6,name:"Figma",description:"协作式界面设计工具",url:"https://www.figma.com/",icon:"🎨",category:"设计工具",color:"#f24e1e"}],_=()=>{m()};return x(()=>{m()}),(s,o)=>(r(),a("div",z,[e("div",D,[o[7]||(o[7]=e("div",{class:"bookmarks-header"},[e("h1",{class:"page-title"},"网站收藏"),e("p",{class:"page-subtitle"},"精选实用工具和网站，提升工作效率")],-1)),e("div",I,[e("div",N,[o[1]||(o[1]=e("svg",{class:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),V(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),type:"text",placeholder:"搜索网站...",class:"search-input"},null,512),[[L,c.value]])])]),e("div",P,[(r(!0),a(f,null,y(g.value,t=>(r(),a("button",{key:t,class:S(["category-btn",{active:u.value===t}]),onClick:b=>u.value=t},l(t),11,W))),128))]),v.value?(r(),a("div",H,o[2]||(o[2]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"正在加载书签...",-1)]))):i.value?(r(),a("div",T,[o[3]||(o[3]=e("div",{class:"error-icon"},"⚠️",-1)),o[4]||(o[4]=e("h3",null,"加载失败",-1)),e("p",null,l(i.value),1),e("button",{onClick:_,class:"retry-btn"},"重试")])):(r(),a("div",$,[(r(!0),a(f,null,y(p.value,t=>(r(),a("div",{key:t.id,class:"website-card",onClick:b=>w(t.url),style:F({"--card-color":t.color})},[e("div",E,[e("div",G,l(t.icon),1),e("div",Q,l(t.category),1)]),e("div",R,[e("h3",U,l(t.name),1),e("p",J,l(t.description),1)]),o[5]||(o[5]=A('<div class="card-footer" data-v-dd0e357e><span class="visit-text" data-v-dd0e357e>点击访问</span><svg class="external-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-dd0e357e><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" data-v-dd0e357e></path><polyline points="15,3 21,3 21,9" data-v-dd0e357e></polyline><line x1="10" y1="14" x2="21" y2="3" data-v-dd0e357e></line></svg></div>',1))],12,j))),128))])),p.value.length===0?(r(),a("div",K,o[6]||(o[6]=[e("div",{class:"empty-icon"},"🔍",-1),e("h3",null,"没有找到相关网站",-1),e("p",null,"尝试调整搜索关键词或选择其他分类",-1)]))):B("",!0)])]))}}),ee=M(O,[["__scopeId","data-v-dd0e357e"]]);export{ee as default};
